<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Mundo Archivo: La Academia Divertida</title>

    <!-- Meta hints for responsiveness -->
    <meta name="surface-hint" content="desktop-responsive">

    <!-- External Libs -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="style.css">
</head>

<body class="min-h-screen flex flex-col bg-pattern">

    <!-- CABECERA AMIGABLE -->
    <header class="h-24 px-8 flex items-center justify-between bg-white border-b-4 border-sky-100 flex-shrink-0">
        <div class="flex items-center gap-4">
            <div
                class="w-16 h-16 bg-yellow-400 rounded-2xl flex items-center justify-center shadow-lg transform rotate-3">
                <span class="material-symbols-outlined text-white text-4xl">folder_zip</span>
            </div>
            <div>
                <h1 class="text-3xl font-bold text-sky-600 tracking-tight">Mundo Archivo</h1>
                <div class="flex items-center gap-2">
                    <div class="w-48 h-3 bg-sky-100 rounded-full">
                        <div id="xp-bar" class="h-full bg-sky-500 rounded-full transition-all duration-500"
                            style="width: 10%"></div>
                    </div>
                    <span class="text-xs font-bold text-sky-400" id="rank-name">Nivel 1: Explorador Novato</span>
                </div>
            </div>
        </div>

        <div class="flex items-center gap-6">
            <div
                class="bg-orange-100 text-orange-600 px-6 py-2 rounded-2xl font-bold flex items-center gap-2 border-2 border-orange-200">
                <span class="material-symbols-outlined">stars</span>
                <span id="xp-val">0 XP</span>
            </div>
            <button onclick="downloadApp()"
                class="bg-sky-500 hover:bg-sky-600 text-white px-8 py-3 rounded-2xl font-bold text-lg shadow-lg hover:scale-105 transition-all flex items-center gap-2">
                <span class="material-symbols-outlined">cloud_download</span> Descargar
            </button>
        </div>
    </header>

    <main class="flex-grow flex p-6 gap-6">
        <!-- BARRA LATERAL -->
        <aside class="w-80 flex flex-col gap-4 flex-shrink-0">
            <div class="soft-card p-6 flex flex-col gap-4">
                <h2 class="text-lg font-bold text-sky-800 flex items-center gap-2">
                    <span class="material-symbols-outlined">map</span> Tu Mapa
                </h2>
                <nav class="flex flex-col gap-3">
                    <button id="nav-1" onclick="loadModule(1)"
                        class="soft-button nav-item-active w-full p-4 text-left font-bold flex items-center gap-3 transition-all">
                        <span class="material-symbols-outlined">school</span> 1. El Gran Repaso
                    </button>
                    <button id="nav-2" onclick="loadModule(2)"
                        class="soft-button w-full p-4 text-left font-bold flex items-center gap-3 transition-all">
                        <span class="material-symbols-outlined">category</span> 2. El Clasificador
                    </button>
                    <button id="nav-3" onclick="loadModule(3)"
                        class="soft-button w-full p-4 text-left font-bold flex items-center gap-3 transition-all">
                        <span class="material-symbols-outlined">timer</span> 3. Carrera Rápida
                    </button>
                    <button id="nav-4" onclick="loadModule(4)"
                        class="soft-button w-full p-4 text-left font-bold flex items-center gap-3 transition-all opacity-50 cursor-not-allowed">
                        <span class="material-symbols-outlined">search</span> 4. El Intruso
                    </button>
                    <button id="nav-5" onclick="loadModule(5)"
                        class="soft-button w-full p-4 text-left font-bold flex items-center gap-3 transition-all opacity-50 cursor-not-allowed">
                        <span class="material-symbols-outlined">gpp_maybe</span> 5. El Experto
                    </button>
                </nav>
            </div>

            <div class="soft-card flex-grow p-6 flex flex-col items-center justify-center text-center">
                <div id="mascot-container"
                    class="w-32 h-32 floating mb-4 bg-sky-100 rounded-full flex items-center justify-center">
                    <span class="material-symbols-outlined text-sky-500 text-6xl">smart_toy</span>
                </div>
                <div class="bg-sky-50 p-4 rounded-2xl text-sm text-sky-700 font-medium leading-snug" id="dialogue">
                    "¡Hola! Soy Bit. ¡Vamos a aprender los apellidos de los archivos escribiéndolos!"
                </div>
            </div>
        </aside>

        <!-- ÁREA DE JUEGO -->
        <section class="flex-grow flex flex-col">
            <!-- MODULO 1: REPASO CON ESCRITURA -->
            <div id="module-1" class="soft-card flex-grow p-10 flex flex-col">
                <div class="mb-8">
                    <h2 class="text-4xl font-black text-sky-600">Aprendiendo los Clanes</h2>
                    <p class="text-sky-400 font-medium">Escribe las extensiones que faltan para completar cada clan.</p>
                </div>

                <div class="grid grid-cols-2 gap-8 flex-grow overflow-y-auto">
                    <!-- CLAN TEXTO -->
                    <div class="bg-blue-50 p-6 rounded-[2rem] border-2 border-blue-200">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="material-symbols-outlined text-blue-500 text-3xl">description</span>
                            <h3 class="text-xl font-bold text-blue-800 uppercase">Clan Texto</h3>
                        </div>
                        <div class="flex flex-wrap gap-3">
                            <span class="bg-white px-3 py-1 rounded-lg border-2 border-blue-200 font-mono">.doc</span>
                            <input type="text" placeholder=".pdf"
                                class="w-20 px-2 py-1 rounded-lg border-2 border-blue-300 focus:border-blue-500 outline-none text-center font-mono"
                                oninput="checkTutorialInput(this, '.pdf')">
                            <input type="text" placeholder=".txt"
                                class="w-20 px-2 py-1 rounded-lg border-2 border-blue-300 focus:border-blue-500 outline-none text-center font-mono"
                                oninput="checkTutorialInput(this, '.txt')">
                        </div>
                    </div>
                    <!-- CLAN IMAGEN -->
                    <div class="bg-pink-50 p-6 rounded-[2rem] border-2 border-pink-200">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="material-symbols-outlined text-pink-500 text-3xl">image</span>
                            <h3 class="text-xl font-bold text-pink-800 uppercase">Clan Imagen</h3>
                        </div>
                        <div class="flex flex-wrap gap-3">
                            <input type="text" placeholder=".jpg"
                                class="w-20 px-2 py-1 rounded-lg border-2 border-pink-300 focus:border-pink-500 outline-none text-center font-mono"
                                oninput="checkTutorialInput(this, '.jpg')">
                            <span class="bg-white px-3 py-1 rounded-lg border-2 border-pink-200 font-mono">.png</span>
                            <input type="text" placeholder=".gif"
                                class="w-20 px-2 py-1 rounded-lg border-2 border-pink-300 focus:border-pink-500 outline-none text-center font-mono"
                                oninput="checkTutorialInput(this, '.gif')">
                        </div>
                    </div>
                    <!-- CLAN AUDIO -->
                    <div class="bg-yellow-50 p-6 rounded-[2rem] border-2 border-yellow-200">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="material-symbols-outlined text-yellow-600 text-3xl">audio_file</span>
                            <h3 class="text-xl font-bold text-yellow-800 uppercase">Clan Audio</h3>
                        </div>
                        <div class="flex flex-wrap gap-3">
                            <input type="text" placeholder=".mp3"
                                class="w-20 px-2 py-1 rounded-lg border-2 border-yellow-300 focus:border-yellow-500 outline-none text-center font-mono"
                                oninput="checkTutorialInput(this, '.mp3')">
                            <input type="text" placeholder=".wav"
                                class="w-20 px-2 py-1 rounded-lg border-2 border-yellow-300 focus:border-yellow-500 outline-none text-center font-mono"
                                oninput="checkTutorialInput(this, '.wav')">
                        </div>
                    </div>
                    <!-- CLAN VIDEO -->
                    <div class="bg-emerald-50 p-6 rounded-[2rem] border-2 border-emerald-200">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="material-symbols-outlined text-emerald-500 text-3xl">movie</span>
                            <h3 class="text-xl font-bold text-emerald-800 uppercase">Clan Video</h3>
                        </div>
                        <div class="flex flex-wrap gap-3">
                            <input type="text" placeholder=".mp4"
                                class="w-20 px-2 py-1 rounded-lg border-2 border-emerald-300 focus:border-emerald-500 outline-none text-center font-mono"
                                oninput="checkTutorialInput(this, '.mp4')">
                            <input type="text" placeholder=".avi"
                                class="w-20 px-2 py-1 rounded-lg border-2 border-emerald-300 focus:border-emerald-500 outline-none text-center font-mono"
                                oninput="checkTutorialInput(this, '.avi')">
                            <input type="text" placeholder=".wmv"
                                class="w-20 px-2 py-1 rounded-lg border-2 border-emerald-300 focus:border-emerald-500 outline-none text-center font-mono"
                                oninput="checkTutorialInput(this, '.wmv')">
                        </div>
                    </div>
                </div>

                <div class="mt-8 flex justify-center">
                    <button id="btn-tutorial-next" disabled
                        class="bg-sky-200 text-sky-400 px-12 py-4 rounded-2xl font-black text-xl flex items-center gap-2 cursor-not-allowed transition-all">
                        Siguiente Nivel <span class="material-symbols-outlined">arrow_forward</span>
                    </button>
                </div>
            </div>

            <!-- MODULO 2: CLASIFICADOR DINÁMICO -->
            <div id="module-2" class="hidden soft-card flex-grow p-10 flex flex-col items-center">
                <h2 class="text-4xl font-black text-purple-600 mb-2">¡El Gran Clasificador!</h2>
                <p class="text-purple-400 mb-10 font-medium">Lleva el archivo a su clan correcto.</p>

                <div class="flex-grow w-full flex gap-12 items-center justify-center">
                    <!-- Cubetas -->
                    <div class="flex flex-col gap-4 w-64">
                        <div class="bucket h-20 bg-blue-100 border-4 border-blue-300 rounded-3xl flex items-center justify-center gap-2 text-blue-700 font-bold"
                            data-clan="texto">
                            <span class="material-symbols-outlined">description</span> TEXTO
                        </div>
                        <div class="bucket h-20 bg-pink-100 border-4 border-pink-300 rounded-3xl flex items-center justify-center gap-2 text-pink-700 font-bold"
                            data-clan="imagen">
                            <span class="material-symbols-outlined">image</span> IMAGEN
                        </div>
                        <div class="bucket h-20 bg-yellow-100 border-4 border-yellow-300 rounded-3xl flex items-center justify-center gap-2 text-yellow-700 font-bold"
                            data-clan="audio">
                            <span class="material-symbols-outlined">audio_file</span> AUDIO
                        </div>
                        <div class="bucket h-20 bg-emerald-100 border-4 border-emerald-300 rounded-3xl flex items-center justify-center gap-2 text-emerald-700 font-bold"
                            data-clan="video">
                            <span class="material-symbols-outlined">movie</span> VIDEO
                        </div>
                    </div>

                    <!-- Archivo central -->
                    <div id="game-card-container"
                        class="w-80 h-80 bg-white rounded-full border-8 border-dashed border-sky-100 flex items-center justify-center relative">
                        <div id="game-item"
                            class="flex flex-col items-center cursor-grab active:cursor-grabbing transition-transform"
                            draggable="true">
                            <span id="game-item-icon"
                                class="material-symbols-outlined text-8xl text-sky-500">description</span>
                            <span id="game-item-name"
                                class="text-2xl font-black text-sky-800 mt-2">tarea_mates.pdf</span>
                        </div>
                    </div>

                    <div class="w-64 bg-slate-50 p-6 rounded-3xl border-4 border-sky-100 text-center">
                        <div class="text-sm font-bold text-sky-400 uppercase mb-2">Puntos</div>
                        <div id="game2-score" class="text-6xl font-black text-sky-600">0</div>
                        <div class="mt-4 text-xs text-sky-400">¡Llega a 10 para ganar!</div>
                    </div>
                </div>
            </div>

            <!-- MODULO 3: CARRERA RÁPIDA -->
            <div id="module-3" class="hidden soft-card flex-grow p-10 flex flex-col items-center justify-center">
                <h2 class="text-5xl font-black text-orange-500 mb-4">CARRERA RÁPIDA</h2>
                <div id="timer-box" class="text-8xl font-black text-slate-800 mb-10 tabular-nums">00:30</div>

                <div id="quick-game"
                    class="w-full max-w-2xl bg-white p-10 rounded-[3rem] border-8 border-orange-100 text-center shadow-xl">
                    <p class="text-xl text-slate-400 mb-4 uppercase font-bold tracking-widest">Adivina la extensión:</p>
                    <div class="text-6xl font-black text-orange-600 mb-10" id="quick-file-name">Mi_Video_Vacaciones
                    </div>

                    <div class="grid grid-cols-2 gap-4" id="quick-options">
                        <!-- Opciones se inyectan aquí -->
                    </div>
                </div>
            </div>

            <!-- MODULO 4: EL INTRUSO -->
            <div id="module-4" class="hidden soft-card flex-grow p-10 flex flex-col items-center justify-center">
                <h2 class="text-5xl font-black text-rose-500 mb-4 uppercase">¿Quién no debería estar aquí?</h2>
                <p class="text-rose-400 mb-8 font-bold text-xl" id="intruder-clan-name">CLAN IMAGEN</p>

                <div id="intruder-options" class="grid grid-cols-2 gap-6 w-full max-w-2xl">
                    <!-- Opciones se inyectarán aquí -->
                </div>

                <div class="mt-10 bg-slate-50 p-6 rounded-3xl border-4 border-rose-100 text-center">
                    <div class="text-sm font-bold text-rose-400 uppercase mb-2">Puntos</div>
                    <div id="game4-score" class="text-6xl font-black text-rose-600">0</div>
                    <div class="mt-4 text-xs text-rose-400">¡Encuentra 10 intrusos para pasar!</div>
                </div>
            </div>

            <!-- MODULO 5: EL EXPERTO EN SEGURIDAD -->
            <div id="module-5" class="hidden soft-card flex-grow p-10 flex flex-col items-center justify-center">
                <h2 class="text-5xl font-black text-emerald-600 mb-4 uppercase">Especialista Forense</h2>
                <p class="text-emerald-500 mb-10 text-xl font-medium">¡Repara estos archivos dañados!</p>

                <div id="security-game" class="w-full max-w-3xl space-y-4">
                    <!-- Los retos se inyectarán aquí -->
                </div>

                <div class="mt-10 flex flex-col items-center">
                    <div class="text-sm font-bold text-emerald-400 uppercase mb-2">Progreso</div>
                    <div class="w-64 h-4 bg-emerald-100 rounded-full overflow-hidden border-2 border-emerald-200">
                        <div id="game5-progress" class="h-full bg-emerald-500 transition-all duration-300"
                            style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="script.js"></script>

</body>

</html>
